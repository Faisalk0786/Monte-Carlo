<style>
  p.uspsubhead {
    text-align: center;
    margin-top: 5px;
    margin-bottom: 20px;
}
  h2.usphead {
    text-align: center;
    margin-bottom: 0;
}
  .gallery-wrapper{padding:40px 0}
  .gallery {display: flex;flex-flow: wrap;margin: 0 auto;justify-content: center;margin-bottom: 60px;width: 100%;max-width: 1420px;}
.gallery-block img {width: 100%;border-radius:12px}
  .gallery-block{padding: 5px 10px;}
  .gallery-block a{color:inherit;text-decoration:none;position:relative;}
.headingn {
    text-align: center;
    color: #000;
    position: absolute;
    left: 0;
    bottom: 0;
    background: #fff;
    padding: 5px 10px;
    display: block;
    width: calc(100% - 30px);
    margin: 15px;
    border-radius: 5px;
}
  @media(max-width:480px){
    .gallery{margin-bottom:30px}
    .usphead{margin-top:20px}
    .uspsubhead{margin-bottom:10px}
    .gallery-wrapper .slick-prev {left: 10px;z-index: 1;}
  .gallery-wrapper .slick-next {right: 10px;z-index: 1;}
  }
</style>
<div class="gallery-wrapper">
  <h2 class="usphead">{{ section.settings.heading }}</h2>
<p class="uspsubhead">{{ section.settings.subheading }}</p>

<div class="gallery">
  {% for block in section.blocks %}
  {% if block.settings.icon != blank %}<div class="gallery-block"> <a href="{{ block.settings.Link }}"><img src="{{ block.settings.icon | img_url: "1000x" }}"> <div class="headingn">{{ block.settings.head }}</div></a> </div>{% endif %}
  {% endfor %}
</div>
</div>

<script>
  $('.gallery ').slick({
            dots: true,
            arrows: true,
            infinite: true,
            speed: 300,
            autoplay: true,
            slidesToShow: 4,
            slidesToScroll: 1,
            responsive: [
              {
                breakpoint: 1024,
                settings: {
                  slidesToShow: 3,
                  slidesToScroll: 3,
                  infinite: true
                }
              },
              {
                breakpoint: 600,
                settings: {
                  slidesToShow: 2,
                  slidesToScroll: 2
                }
              },
              {
                breakpoint: 480,
                settings: {
                  centerMode: true,
                  centerPadding: "50px",
                  slidesToShow: 1,
                  slidesToScroll: 1
                }
              }
            
            ]
          });
</script>

{% schema %}
{
  "name": "Gallery",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "label": "heading",
      "id": "heading"
    },
    {
      "type": "text",
      "label": "Subheading",
      "id": "subheading"
    }
  ],
  "blocks": [
    {
      "type": "icon",
      "name": "Icon",
      "settings": [
        {
          "type": "image_picker",
          "label": "Icon",
          "id": "icon"
        },
        {
          "type": "url",
          "label": "Link",
          "id": "Link"
        },
        {
          "type": "text",
          "label": "Heading",
          "id": "head"
        }
        
      ]
    }
  ],
  "presets": [
    {
      "name": "Gallery"
    }
  ]
}
{% endschema %}
